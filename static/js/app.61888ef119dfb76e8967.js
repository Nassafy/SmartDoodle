webpackJsonp([1],{"9C3i":function(t,e){},AI6D:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]},a=n("VU/8")({name:"App"},r,!1,null,null,null).exports,s=n("/ocq"),o=n("mtWM"),u=n.n(o),l={name:"event",data:function(){return{title:null,lieu:null,summary:null,id:null}},methods:{submitForm:function(t){var e=this;t.preventDefault(),u.a.post("http://148.60.11.233/polls",{title:this.title,summary:this.summary,place:this.lieu}).then(function(t){e.$router.push({name:"date",params:{id:t.data.id}})})}}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"event"},[t._m(0),t._v(" "),n("form",{on:{submit:t.submitForm}},[n("p",[t.title?n("label",{attrs:{for:"title"}},[t._v("Titre")]):t._e(),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{id:"title",type:"text",name:"title",placeholder:"Titre",required:""},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),n("p",[t.lieu?n("label",{attrs:{for:"lieu"}},[t._v("Lieu")]):t._e(),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.lieu,expression:"lieu"}],attrs:{id:"lieu",type:"text",name:"lieu",placeholder:"Lieu (facultatif)"},domProps:{value:t.lieu},on:{input:function(e){e.target.composing||(t.lieu=e.target.value)}}})]),t._v(" "),n("p",[t.summary?n("label",{attrs:{for:"summary"}},[t._v("Description")]):t._e(),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.summary,expression:"summary"}],attrs:{id:"summary",type:"text",name:"summary",placeholder:"Description",required:""},domProps:{value:t.summary},on:{input:function(e){e.target.composing||(t.summary=e.target.value)}}})]),t._v(" "),t._m(1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"header"},[e("h1",[this._v("Doodle++")]),this._v(" "),e("h2",[this._v("Créez votre événement !")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("input",{attrs:{type:"submit",value:"Continuer"}})])}]};var d=n("VU/8")(l,c,!1,function(t){n("rqtd")},null,null).exports,v={data:function(){return{jour:[],heureDebut:[],nbDate:1}},props:{id:Number},methods:{addField:function(){this.nbDate++},deleteField:function(){this.nbDate--},submitForm:function(t){var e=this;t.preventDefault();for(var n=[],i=0;i<this.nbDate;i++){var r={dateBegin:new Date(this.jour[i]+"T"+this.heureDebut[i]).toJSON()};n.push(r)}u.a.post("http://148.60.11.233/polls/"+this.$route.params.id+"/slots",n).then(function(t){e.$router.push({name:"creator",params:{id:e.$route.params.id}})})}}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),t._v(" "),n("div",{attrs:{id:"main"}},[n("form",{on:{submit:t.submitForm}},[t._l(t.nbDate,function(e){return n("div",{key:e},[t._v("\n        Le\n        "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.jour[e-1],expression:"jour[i-1]"}],attrs:{type:"date",required:""},domProps:{value:t.jour[e-1]},on:{input:function(n){n.target.composing||t.$set(t.jour,e-1,n.target.value)}}}),t._v(" à\n        "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.heureDebut[e-1],expression:"heureDebut[i-1]"}],attrs:{type:"time",required:""},domProps:{value:t.heureDebut[e-1]},on:{input:function(n){n.target.composing||t.$set(t.heureDebut,e-1,n.target.value)}}})])}),t._v(" "),n("br"),t._v(" "),n("input",{attrs:{type:"button",value:"Ajouter date"},on:{click:t.addField}}),t._v(" "),n("input",{attrs:{type:"button",value:"Supprimer date"},on:{click:t.deleteField}}),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("input",{attrs:{type:"submit",value:"Continuer"}})],2)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"header"},[e("h1",[this._v("Doodle++")]),this._v(" "),e("h2",[this._v("Choisissez les dates possibles.")])])}]};var p=n("VU/8")(v,m,!1,function(t){n("O0Ji")},null,null).exports,h={name:"createur",data:function(){return{nom:null,mail:null,id:null}},props:{onclick:{type:Function}},methods:{submitForm:function(t){var e=this;t.preventDefault(),u.a.post("http://148.60.11.233/polls/"+this.$route.params.id+"/guests",{name:this.nom,mail:this.mail}).then(function(t){e.$router.push({name:"poll",params:{id:e.$route.params.id}})})}}},_={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"event"},[t._m(0),t._v(" "),n("form",{on:{submit:t.submitForm}},[n("p",[t.nom?n("label",{attrs:{for:"nom"}},[t._v("Nom")]):t._e(),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.nom,expression:"nom"}],attrs:{id:"nom",type:"text",name:"nom",placeholder:"Votre nom",required:""},domProps:{value:t.nom},on:{input:function(e){e.target.composing||(t.nom=e.target.value)}}})]),t._v(" "),n("p",[t.mail?n("label",{attrs:{for:"mail"}},[t._v("Adresse Email")]):t._e(),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.mail,expression:"mail"}],attrs:{id:"mail",type:"text",name:"mail",placeholder:"Votre adresse email (facultatif)"},domProps:{value:t.mail},on:{input:function(e){e.target.composing||(t.mail=e.target.value)}}})]),t._v(" "),t._m(1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"header"},[e("h1",[this._v("Doodle++")]),this._v(" "),e("h2",[this._v("Présentez-vous.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("input",{attrs:{type:"submit",value:"Continuer"}})])}]};var f=n("VU/8")(h,_,!1,function(t){n("blDc")},null,null).exports,b=n("woOf"),y=n.n(b),g={data:function(){return{date:null}},props:{dateString:{type:Object}},mounted:function(){var t=this.dateString.dateBegin.replace("[UTC]","");this.date=new Date(t)}},D={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"jour"},[t._v(t._s(t.date.getDate()+"/"+(t.date.getMonth()+1)+"/"+t.date.getFullYear()))]),t._v(" "),n("div",{staticClass:"heure"},[t._v(t._s(t.date.getHours()+":"+t.date.getMinutes()))])])},staticRenderFns:[]};var x=n("VU/8")(g,D,!1,function(t){n("AI6D")},null,null).exports,$={data:function(){return{currentUser:null,disponibility:{}}},props:{event:event},methods:{isDisabled:function(t){return null===this.currentUser||t!==this.currentUser.name},isChecked:function(t,e){return this.disponibility[t.name][e.id]},edit:function(t){this.currentUser=t},envoyer:function(){for(var t=[],e=0;e<this.event.slots.length;e++){var n=this.event.slots[e];t.push({slotId:n.id,available:this.disponibility[this.currentUser.name][n.id]})}var i="http://148.60.11.233/polls/"+this.$route.params.id+"/disponibility/"+this.currentUser.id;u.a.patch(i,t).then(function(t){}).catch(function(t){console.log(t)})},updateDisponibility:function(t,e,n){this.disponibility[e.name][n.id]=t.target.checked}},mounted:function(){for(var t=this,e=0;e<this.event.guests.length;e++)for(var n=this.event.guests[e],i=function(e){var i=t.event.slots[e];void 0===t.disponibility[n.name]&&(t.disponibility[n.name]={});var r=!1;n.slots.forEach(function(t){i.id==t.id&&(r=!0)}),t.disponibility[n.name][i.id]=r},r=0;r<this.event.slots.length;r++)i(r);this.disponibility=y()({},this.disponibility)},components:{FormatDate:x}},C={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("table",[n("thead",[n("tr",[n("td"),t._v(" "),t._l(t.event.slots,function(t,e){return n("td",{key:e},[n("FormatDate",{attrs:{dateString:t}})],1)})],2)]),t._v(" "),n("tbody",t._l(t.event.guests,function(e,i){return n("tr",{key:i},[n("td",[n("input",{attrs:{type:"button",value:"Modifier"},on:{click:function(n){return t.edit(e)}}}),t._v("\n          "+t._s(e.name)+"\n        ")]),t._v(" "),t._l(t.event.slots,function(i,r){return n("td",{key:r},[n("input",{attrs:{type:"checkbox",id:"checkbox",disabled:t.isDisabled(e.name)},domProps:{checked:t.isChecked(e,i)},on:{change:function(n){return t.updateDisponibility(n,e,i)}}})])})],2)}),0)]),t._v(" "),n("p",[n("input",{staticClass:"button1",attrs:{type:"button",value:"Envoyer"},on:{click:t.envoyer}})])])},staticRenderFns:[]};var F={data:function(){return{event:null,url:null}},mounted:function(){var t=this;u.a.get("http://148.60.11.233/polls/"+this.$route.params.id).then(function(e){t.event=e.data;var n=t.event.slots.slice();n.sort(function(t,e){return t.dateBegin>e.dateBegin?1:-1}),t.event.slots=n,t.event=y()(t.event)})},components:{tableau:n("VU/8")($,C,!1,function(t){n("9C3i")},null,null).exports,Clipboard:Clipboard}},k={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"contour"},[n("h1",[t._v(t._s(t.event.title))]),t._v(" "),n("h2",[t._v("Evénement créé par "+t._s(t.event.guests[0].name))]),t._v(" "),n("h3",[t._v(t._s(t.event.summary))]),t._v(" "),n("p",[t._v("\n    Inviter de nouveaux participants :\n    "),n("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:t.value,expression:"value"}]},[t._v("Copiez le lien")]),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("a",{attrs:{href:t.event.pad_link,target:"_blank"}},[t._v("Accéder au pad")]),t._v(" "),n("a",{attrs:{href:t.event.chat_link,target:"_blank"}},[t._v("Accéder au chat")])]),t._v(" "),n("p",[t._v("Disponibilités :")]),t._v(" "),n("tableau",{attrs:{event:t.event}})],1)},staticRenderFns:[]};var E=n("VU/8")(F,k,!1,function(t){n("VI41")},null,null).exports;i.a.use(s.a);var w=new s.a({routes:[{path:"/create",component:d},{path:"/create/:id/date",name:"date",component:p},{path:"/create/:id/creator",name:"creator",component:f},{path:"*",redirect:"/create"},{path:"/poll/:id",name:"poll",component:E}]});new i.a({el:"#app",router:w,render:function(t){return t(a)}})},O0Ji:function(t,e){},VI41:function(t,e){},blDc:function(t,e){},rqtd:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.61888ef119dfb76e8967.js.map